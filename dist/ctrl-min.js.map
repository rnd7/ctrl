{"version":3,"sources":["webpack://ctrl/webpack/universalModuleDefinition","webpack://ctrl/webpack/bootstrap","webpack://ctrl/./rotary.js","webpack://ctrl/./index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TAU","Math","PI","mod","a","clamp","val","min","max","drawTorusSegment","ctx","x","y","outer","inner","start","end","beginPath","arc","closePath","ROTARY_DEFAULTS","observeSize","sizeFromParent","eventMode","speed","initialChangeEvent","keepTarget","disabled","neutralAngle","borderRadius","borderColor","borderFocusColor","backgroundColor","steps","stepGap","trackSize","trackSector","trackSectorColor","valueSector","valueSectorColor","targetSector","targetSectorColor","Rotary","opts","_classCallCheck","this","_canvas","document","createElement","tabIndex","style","outline","userSelect","cursor","_ctx","getContext","_target","_mouseX","_mouseY","_mouseAngle","_bound","startDrag","stopDrag","drag","focus","blur","assign","target","addEventListener","_createClass","e","_disabled","_dragging","removeEventListener","_evalMousePosition","_focus","redraw","_len","arguments","length","args","Array","_key","apply","_len2","_key2","_initialChangeEvent","_dispatchChangeEvent","_len3","_key3","_len4","_key4","_this","_bulkAssign","_len5","_key5","forEach","arg","_redraw","_loop","_parent","_width","offsetWidth","_height","offsetHeight","_resizeCanvas","_canvasSize","_radius","_centerX","_centerY","parent","appendChild","fitParent","touches","pageX","pageY","ax","ay","bx","by","angle","atan2","calcAngle","offsetLeft","offsetTop","zero","_neutralAngle","inverse","_trackSector","_valueSector","force","_eventMode","_lastEventValue","_value","_lastEventTarget","_lastEventStep","step","dispatchEvent","CustomEvent","bubbles","detail","component","_this2","_animationFrame","_observeSize","requestAnimationFrame","render","_speed","_sizeFromParent","_draw","cx","cy","border","_borderRadius","_trackSize","limit","delta","current","b","calcAngleDelta","canvas","width","height","clearRect","save","fillStyle","_borderFocusColor","_borderColor","clip","fill","restore","_backgroundColor","_steps","_trackSectorColor","_targetSector","_targetSectorColor","_valueSectorColor","segmentSector","targetStep","_stepGap","set","_selector","querySelector","_attachDomElement","_keepTarget","round","__webpack_exports__"],"mappings":"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","file":"ctrl-min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ctrl\"] = factory();\n\telse\n\t\troot[\"ctrl\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nconst TAU = Math.PI * 2\nconst HALF_PI = Math.PI / 2\n\nfunction mod( a, n ) { return ( a % n + n ) % n }\n\nfunction calcAngle(ax, ay, bx, by) {\n  var angle = Math.atan2(by - ay, bx - ax)\n  if ( angle < 0 ) angle += TAU\n  return angle\n}\n\nfunction calcAngleDelta( current, target ) {\n  var a = mod( ( current - target ), TAU )\n  var b = mod( ( target - current ), TAU)\n  return a < b ? -a : b\n}\n\nfunction clamp(val, min, max) {\n  return Math.min(max || 1, Math.max(min || 0, val))\n}\n\nfunction drawTorusSegment(ctx, x, y, outer, inner, start, end) {\n  start = start || 0\n  end = end || TAU\n  ctx.beginPath()\n  ctx.arc(x, y, outer, start , end, false)\n  ctx.arc(x, y, inner, end, start, true)\n  ctx.closePath()\n}\n\n// Event Modes\nexport const NONE = \"none\" // no events fired\nexport const VALUE = \"value\" // only on value changes\nexport const TARGET = \"target\" // only on target changes\nexport const STEP = \"step\" // only on step changes\nexport const COMPLETE = \"complete\" // only when value reaches target\nexport const ALWAYS = \"always\" // while user interacts\n\n\nexport const ROTARY_DEFAULTS = {\n  observeSize: false, // poll for parent size changes\n  sizeFromParent: true, // fit within parent bounds\n  eventMode: VALUE, // online fire events when value changed\n  speed: .01, // value per frame 0 and 1 eq instant change\n  value: 0., // 0-1\n  initialChangeEvent: true, // trigger change event when listener added\n  keepTarget: false, // value setter does not overwrite target\n  disabled: false, // non interactive\n  neutralAngle: -HALF_PI, // track orientation\n  borderRadius: 2,\n  borderColor: 'rgb(12,12,12)',\n  borderFocusColor: 'rgb(0,0,80)',\n  backgroundColor: 'rgb(36,36,36)',\n  steps: 1, // 1-n to specify steps 1 is continous\n  stepGap: TAU / 360, // stepper only. gap between segments\n  trackSize: 12, // width of the track\n  trackSector: TAU * .8, // track span as circular sector\n  trackSectorColor: 'rgb(66,66,66)',\n  valueSector: TAU / 48, // size of value indicator\n  valueSectorColor: 'rgb(255,255,255)',\n  targetSector: TAU / 48, // size of target indicator\n  targetSectorColor: 'rgba(170,170,255,.5)',\n}\n\nexport class Rotary {\n  constructor(opts) {\n    this._canvas = document.createElement('CANVAS')\n    this._canvas.tabIndex = 0\n    this._canvas.style.outline = 0\n    this._canvas.style.userSelect = \"none\"\n    this._canvas.style.cursor = \"pointer\"\n    this._ctx = this._canvas.getContext(\"2d\")\n    this._target = null\n    this._mouseX = 0.\n    this._mouseY = 0.\n    this._mouseAngle = 0.\n    this._bound = {\n      startDrag: this.startDrag.bind(this),\n      stopDrag: this.stopDrag.bind(this),\n      drag: this.drag.bind(this),\n      focus: this.focus.bind(this),\n      blur: this.blur.bind(this)\n    }\n\n    this.assign(ROTARY_DEFAULTS, opts)\n    if (this.target === null) this.target = this.value // if no target use value\n\n    this._canvas.addEventListener(\"mousedown\", this._bound.startDrag)\n    this._canvas.addEventListener(\"focus\", this._bound.focus, true)\n    this._canvas.addEventListener(\"blur\", this._bound.blur, true)\n  }\n\n  startDrag(e) {\n    if (this._disabled) return\n    this._dragging = true\n    this._canvas.removeEventListener(\"mousedown\", this._bound.startDrag)\n    this._canvas.removeEventListener(\"touchstart\", this._bound.startDrag)\n    document.addEventListener(\"mousemove\", this._bound.drag)\n    document.addEventListener(\"touchmove\", this._bound.drag)\n    document.addEventListener(\"mouseup\", this._bound.stopDrag)\n    document.addEventListener(\"mouseleave\", this._bound.stopDrag)\n    document.addEventListener(\"dragleave\", this._bound.stopDrag)\n    document.addEventListener(\"touchcancel\", this._bound.stopDrag)\n    document.addEventListener(\"touchend\", this._bound.stopDrag)\n    this._evalMousePosition(e)\n  }\n\n  drag(e) {\n    if (this._disabled) return\n    this._evalMousePosition(e)\n  }\n\n  stopDrag(e) {\n    if (this._disabled) return\n    this._dragging = false\n    document.removeEventListener(\"mousemove\", this._bound.drag)\n    document.removeEventListener(\"touchmove\", this._bound.drag)\n    document.removeEventListener(\"mouseup\", this._bound.stopDrag)\n    document.removeEventListener(\"mouseleave\", this._bound.stopDrag)\n    document.removeEventListener(\"dragleave\", this._bound.stopDrag)\n    document.removeEventListener(\"touchcancel\", this._bound.stopDrag)\n    document.removeEventListener(\"touchend\", this._bound.stopDrag)\n    this._canvas.addEventListener(\"mousedown\", this._bound.startDrag)\n    this._canvas.addEventListener(\"touchstart\", this._bound.startDrag)\n    this._evalMousePosition(e)\n  }\n\n  focus(e) {\n    if (this._disabled) return\n    this._focus = true\n    this.redraw()\n  }\n\n  blur(e) {\n    if (this._disabled) return\n    this._focus = false\n    this.redraw()\n  }\n\n  on(...args) {\n    this.addEventListener.apply(this, args)\n  }\n\n  addEventListener(...args) {\n    this._canvas.addEventListener.apply(this._canvas, args)\n    if (this._initialChangeEvent) this._dispatchChangeEvent(true)\n  }\n\n  off(...args) {\n    this.removeEventListener.apply(this, args)\n  }\n\n  removeEventListener(...args) {\n    this._canvas.removeEventListener.apply(this._canvas, args)\n  }\n\n  assign (...args) {\n    this._bulkAssign = true\n    args.forEach((arg) => {\n      Object.assign(this, arg)\n    })\n    this._bulkAssign = false\n    if (this._redraw) this._loop()\n  }\n\n  set initialChangeEvent(val) {\n    if (this._initialChangeEvent == val) return\n    this._initialChangeEvent = val\n  }\n  get initialChangeEvent() {\n    return this._initialChangeEvent\n  }\n\n  set eventMode(val) {\n    this._eventMode = val\n  }\n  get eventMode() {\n    return this._eventMode\n  }\n\n  set selector(val) {\n    this._selector = val\n    this.parent = document.querySelector(this._selector)\n  }\n  get selector() {\n    return this._selector\n  }\n\n  set parent(val) {\n    this._parent = val\n    this._attachDomElement()\n  }\n  get parent() {\n    return this._parent\n  }\n\n  set value(val) {\n    if (this._value == val) return\n    this._value = clamp(val)\n    if (!this._bulkAssign) this.target = this._value\n    this.redraw()\n  }\n  get value() {\n    return this._value\n  }\n\n  set trackSector(val) {\n    if (this._trackSector == val) return\n    this._trackSector = val\n    this.redraw()\n  }\n  get trackSector() {\n    return this._trackSector\n  }\n\n  set target(val) {\n    if (this._target == val) return\n    this._target = clamp(val)\n    this.redraw()\n  }\n  get target() {\n    return this._target\n  }\n\n  set keepTarget(val) {\n    if (this._keepTarget == val) return\n    this._keepTarget = val\n  }\n  get keepTarget() {\n    return this._keepTarget\n  }\n\n\n  set steps(val) {\n    if (this._steps == val) return\n    this._steps = Math.max(1,val)\n    this.redraw()\n  }\n  get steps() {\n    return this._steps\n  }\n\n  get step() {\n    return Math.round(this._value * (this._steps-1))\n  }\n\n  set step(val) {\n    this.value = val / this._steps\n  }\n\n  get targetStep() {\n    return Math.round(this._target * (this._steps-1))\n  }\n\n  set targetStep(val) {\n    this.target = val / this._steps\n  }\n\n  set neutralAngle(val) {\n    if (this._neutralAngle == val) return\n    this._neutralAngle = val\n    this.redraw()\n  }\n  get neutralAngle() {\n    return this._neutralAngle\n  }\n\n  set sizeFromParent(val) {\n    if (this._sizeFromParent == val) return\n    this._sizeFromParent = val\n    if (this._sizeFromParent) this.fitParent()\n  }\n  get sizeFromParent() {\n    return this._sizeFromParent\n  }\n\n  set width(val) {\n    if (this._width == val) return\n    this._width = val\n    this._resizeCanvas()\n  }\n  get width() {\n    return this._width\n  }\n\n  set height(val) {\n    if (this._height == val) return\n    this._height = val\n    this._resizeCanvas()\n  }\n  get height() {\n    return this._height\n  }\n\n  set speed(val) {\n    if (this._speed == val) return\n    this._speed = val\n  }\n  get speed() {\n    return this._speed\n  }\n\n  set targetSector(val) {\n    if (this._targetSector == val) return\n    this._targetSector = val\n    this.redraw()\n  }\n  get targetSector() {\n    return this._targetSector\n  }\n\n  set valueSector(val) {\n    if (this._valueSector == val) return\n    this._valueSector = val\n    this.redraw()\n  }\n  get valueSector() {\n    return this._valueSector\n  }\n\n  set stepGap(val) {\n    if (this._stepGap == val) return\n    this._stepGap = val\n    this.redraw()\n  }\n  get stepGap() {\n    return this._stepGap\n  }\n\n  set disabled(val) {\n    if (this._disabled == val) return\n    this._disabled = val\n    if (this._disabled && this._dragging) this.stopDrag()\n    if (this._disabled && this._focus) this.blur()\n    this.redraw()\n  }\n  get disabled() {\n    return this._disabled\n  }\n\n  set observeSize(val) {\n    if (this._observeSize == val) return\n    this._observeSize = val\n    if (this._observeSize) this._loop()\n  }\n  get observeSize() {\n    return observeSize\n  }\n\n  set borderRadius(val) {\n    if (this._borderRadius == val) return\n    this._borderRadius = val\n    this.redraw()\n  }\n  get borderRadius() {\n    return this._borderRadius\n  }\n\n  set trackSize(val) {\n    if (this._trackSize == val) return\n    this._trackSize = val\n    this.redraw()\n  }\n  get trackSize() {\n    return this._trackSize\n  }\n\n  set valueSectorColor(val) {\n    if (this._valueSectorColor == val) return\n    this._valueSectorColor = val\n    this.redraw()\n  }\n  get valueSectorColor() {\n    return this._valueSectorColor\n  }\n\n  set trackSectorColor(val) {\n    if (this._trackSectorColor == val) return\n    this._trackSectorColor = val\n    this.redraw()\n  }\n  get trackSectorColor() {\n    return this._trackSectorColor\n  }\n\n  set borderColor(val) {\n    if (this._borderColor == val) return\n    this._borderColor = val\n    this.redraw()\n  }\n  get borderColor() {\n    return this._borderColor\n  }\n\n  set borderFocusColor(val) {\n    if (this._borderFocusColor == val) return\n    this._borderFocusColor = val\n    this.redraw()\n  }\n  get borderFocusColor() {\n    return this._borderFocusColor\n  }\n\n  set backgroundColor(val) {\n    if (this._backgroundColor == val) return\n    this._backgroundColor = val\n    this.redraw()\n  }\n  get backgroundColor() {\n    return this._backgroundColor\n  }\n\n  set targetSectorColor(val) {\n    if (this._targetSectorColor == val) return\n    this._targetSectorColor = val\n    this.redraw()\n  }\n  get targetSectorColor() {\n    return this._targetSectorColor\n  }\n\n  get domElement() {\n    return this._canvas\n  }\n\n  fitParent() {\n    if (!this._parent) return\n    this._width = this._parent.offsetWidth\n    this._height =  this._parent.offsetHeight\n    this._resizeCanvas()\n  }\n\n  redraw() {\n    this._redraw = true\n    if (!this._bulkAssign) this._loop()\n  }\n\n  _resizeCanvas() {\n    this._canvasSize = Math.min(this._width, this._height)\n    this._radius =  this._canvasSize / 2.\n    this._centerX = this._centerY = this._radius\n    this.redraw()\n  }\n\n  _attachDomElement() {\n    if (this.parent && this._canvas) {\n      this._parent.appendChild(this._canvas)\n      this.fitParent()\n      this.redraw()\n    }\n  }\n\n  _evalMousePosition(e){\n    this._mouseX = e.touches ? e.touches[0].pageX : e.pageX\n    this._mouseY = e.touches ? e.touches[0].pageY : e.pageY\n    this._mouseAngle = calcAngle(\n      this._canvas.offsetLeft + this._canvasSize / 2,\n      this._canvas.offsetTop + this._canvasSize / 2,\n      this._mouseX,\n      this._mouseY\n    )\n    const zero = (this._neutralAngle - Math.PI)\n    const inverse = (TAU - (this._trackSector - this._valueSector)) / TAU\n    const fullCircle = mod(this._mouseAngle - zero, TAU) / TAU\n    const value = fullCircle\n      * (TAU / (this._trackSector - this._valueSector))\n      - (inverse + this._valueSector / 2) / 2\n\n    this._target = clamp(value)\n    this.redraw()\n  }\n\n  _dispatchChangeEvent(force) {\n    if (\n      !force\n      && (\n        this._eventMode === NONE\n        || (this._eventMode === VALUE && this._lastEventValue == this._value)\n        || (this._eventMode === TARGET && this._lastEventTarget == this._target)\n        || (this._eventMode === STEP && this._lastEventStep == this.step)\n        || (this._eventMode === COMPLETE && this._value != this._target)\n      )\n    ) return\n    this._canvas.dispatchEvent(\n      new CustomEvent(\n        'change',\n        {\n          bubbles: true,\n          detail: {\n            step: this.step,\n            value: this._value,\n            target: this._target,\n            component: this\n          }\n        }\n      )\n    )\n    this._lastEventValue = this._value\n    this._lastEventTarget = this._target\n    this._lastEventStep = this.step\n  }\n\n  _loop() {\n    if (\n      this._animationFrame\n      || (\n        !this._observeSize\n        && !this._dragging\n        && !this._redraw\n        && this._value == this._target\n      )\n    ) return\n    this._animationFrame = window.requestAnimationFrame(() => {\n      let render = this._dragging || this._redraw\n      if (this._value != this._target) {\n        if (this.speed && this._value + this._speed <= this._target ) {\n          this._value += this._speed\n        } else if (this.speed && this._value- this._speed >= this._target ) {\n          this._value -= this._speed\n        } else {\n          this._value = this._target\n        }\n        render = true\n        this._dispatchChangeEvent()\n      }\n      if (\n        this._observeSize\n        && this._sizeFromParent\n        && (\n          this._parent.offsetWidth != this._width\n          || this._parent.offsetHeight != this._height\n        )\n      ) {\n        this.fitParent()\n        render = true\n      }\n      this._animationFrame = null\n      if (render) this._draw()\n      this._loop()\n    })\n  }\n\n  _draw() {\n    const ctx = this._ctx\n    const cx = this._centerX\n    const cy = this._centerY\n    const border = this._borderRadius\n    const trackSize = Math.min(this._radius/3, this._trackSize)\n    const zero = -this._trackSector/2 + this._neutralAngle\n    const limit = zero + this._trackSector\n    const delta = calcAngleDelta( zero,limit)\n    const target = this._target\n    const value = this._value\n\n    const outer = this._radius - border\n    const inner = this._radius - border - trackSize\n\n    if (\n      ctx.canvas.width != this._canvasSize\n      || ctx.canvas.height != this._canvasSize\n    ) {\n      ctx.canvas.width = ctx.canvas.height = this._canvasSize\n    } else {\n      ctx.clearRect(0, 0, this._canvasSize, this._canvasSize)\n    }\n\n\n\n    // background torus\n    ctx.save()\n    ctx.beginPath()\n    ctx.fillStyle = this._focus ? this._borderFocusColor : this._borderColor\n    ctx.arc(cx, cy, this._radius, 0, TAU)\n    ctx.arc(cx, cy, inner - border, 0, TAU, true)\n    ctx.clip()\n    ctx.fill()\n    ctx.restore()\n\n    // torus\n    ctx.fillStyle = this._backgroundColor\n    drawTorusSegment(ctx, cx, cy, outer, inner)\n    ctx.fill()\n\n    let start, end\n    if (this._steps < 2) {\n\n      // track\n      ctx.fillStyle = this._trackSectorColor\n      drawTorusSegment(ctx, cx, cy, outer, inner, zero, limit)\n      ctx.fill()\n\n      // target value indicator\n      if (value != target) {\n        start = target *((TAU + delta - this._targetSector)) + zero\n        end = start + this._targetSector\n        ctx.fillStyle = this._targetSectorColor\n        drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n        ctx.fill()\n      }\n\n      // current value indicator\n      start = value * (TAU + delta - this._valueSector) + zero\n      end = start + this._valueSector\n      ctx.fillStyle = this._valueSectorColor\n      drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n      ctx.fill()\n\n    } else {\n\n      const segmentSector = this._trackSector / this._steps\n      const stepScale = 1 / this._steps\n      const step = this.step\n      const targetStep = this.targetStep\n      // draw segment for every step\n      for (let i = 0; i < this._steps; i++) {\n        start = mod(zero + segmentSector * i, TAU) + this._stepGap\n        end = mod(zero + segmentSector * (i + 1), TAU) - this._stepGap\n        // segmented track\n        ctx.fillStyle = this._trackSectorColor\n        drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n        ctx.fill()\n        if (step == i) {\n          // segment matches current value\n          ctx.fillStyle = this._valueSectorColor\n          drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n          ctx.fill()\n        } else if (value != target && targetStep == i) {\n          //if (target >= i * stepScale && target <= (i + 1) * stepScale) {\n            // current value neq target value segement matches selected step\n            ctx.fillStyle = this._targetSectorColor\n            drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n            ctx.fill()\n        //  }\n        }\n      }\n    }\n    this._redraw = false\n  }\n}\n","import { Rotary } from './rotary'\n//console.log(components)\nexport { Rotary }\n"],"sourceRoot":""}