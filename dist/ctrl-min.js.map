{"version":3,"sources":["webpack://ctrl/webpack/universalModuleDefinition","webpack://ctrl/webpack/bootstrap","webpack://ctrl/./rotary.js","webpack://ctrl/./index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TAU","Math","PI","mod","a","clamp","val","min","max","drawTorusSegment","ctx","x","y","outer","inner","start","end","beginPath","arc","closePath","ROTARY_DEFAULTS","observeSize","sizeFromParent","eventMode","speed","disabled","neutralAngle","borderRadius","borderColor","borderFocusColor","backgroundColor","steps","stepGap","trackSize","trackSector","trackSectorColor","valueSector","valueSectorColor","targetSector","targetSectorColor","Rotary","opts","_classCallCheck","this","_canvas","document","createElement","tabIndex","style","outline","userSelect","_ctx","getContext","_target","_mouseX","_mouseY","_mouseAngle","_bound","startDrag","stopDrag","drag","focus","blur","assign","target","addEventListener","_createClass","e","_disabled","_dragging","removeEventListener","_evalMousePosition","_focus","redraw","_len","arguments","length","args","Array","_key","apply","_len2","_key2","_len3","_key3","_len4","_key4","_parent","_width","offsetWidth","_height","offsetHeight","_resizeCanvas","_redraw","_loop","_canvasSize","_radius","_centerX","_centerY","parent","appendChild","fitParent","touches","pageX","pageY","ax","ay","bx","by","angle","atan2","calcAngle","offsetLeft","offsetTop","zero","_neutralAngle","inverse","_trackSector","_valueSector","_eventMode","_lastEventValue","_value","_lastEventTarget","_lastEventStep","step","dispatchEvent","CustomEvent","bubbles","detail","component","_this","_animationFrame","_observeSize","requestAnimationFrame","render","_speed","_dispatchChangeEvent","_sizeFromParent","_draw","cx","cy","border","_borderRadius","_trackSize","limit","delta","current","b","calcAngleDelta","canvas","width","height","clearRect","save","fillStyle","_borderFocusColor","_borderColor","clip","fill","restore","_backgroundColor","_steps","_trackSectorColor","_targetSector","_targetSectorColor","_valueSectorColor","segmentSector","stepScale","_stepGap","set","_selector","querySelector","_attachDomElement","floor","__webpack_exports__"],"mappings":"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","file":"ctrl-min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ctrl\"] = factory();\n\telse\n\t\troot[\"ctrl\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nconst TAU = Math.PI * 2\nconst HALF_PI = Math.PI / 2\n\nfunction mod( a, n ) { return ( a % n + n ) % n }\n\nfunction calcAngle(ax, ay, bx, by) {\n  var angle = Math.atan2(by - ay, bx - ax)\n  if ( angle < 0 ) angle += TAU\n  return angle\n}\n\nfunction calcAngleDelta( current, target ) {\n  var a = mod( ( current - target ), TAU )\n  var b = mod( ( target - current ), TAU)\n  return a < b ? -a : b\n}\n\nfunction clamp(val, min, max) {\n  return Math.min(max || 1, Math.max(min || 0, val))\n}\n\nfunction drawTorusSegment(ctx, x, y, outer, inner, start, end) {\n  start = start || 0\n  end = end || TAU\n  ctx.beginPath()\n  ctx.arc(x, y, outer, start , end, false)\n  ctx.arc(x, y, inner, end, start, true)\n  ctx.closePath()\n}\n\n// Event Modes\nexport const NONE = \"none\" // no events fired\nexport const VALUE = \"value\" // only on value changes\nexport const TARGET = \"target\" // only on target changes\nexport const STEP = \"step\" // only on step changes\nexport const COMPLETE = \"complete\" // only when value reaches target\nexport const ALWAYS = \"always\" // while user interacts\n\n\nexport const ROTARY_DEFAULTS = {\n  observeSize: false, // poll for parent size changes\n  sizeFromParent: true, // fit within parent bounds\n  eventMode: VALUE, // online fire events when value changed\n  speed: .01, // value per frame 0 and 1 eq instant change\n  value: 0., // 0-1\n  disabled: false, // non interactive\n  neutralAngle: -HALF_PI, // track orientation\n  borderRadius: 2,\n  borderColor: 'rgb(12,12,12)',\n  borderFocusColor: 'rgb(0,0,80)',\n  backgroundColor: 'rgb(36,36,36)',\n  steps: 1, // 1-n to specify steps 1 is continous\n  stepGap: TAU / 360, // stepper only. gap between segments\n  trackSize: 12, // width of the track\n  trackSector: TAU * .8, // track span as circular sector\n  trackSectorColor: 'rgb(66,66,66)',\n  valueSector: TAU / 48, // size of value indicator\n  valueSectorColor: 'rgb(255,255,255)',\n  targetSector: TAU / 48, // size of target indicator\n  targetSectorColor: 'rgba(170,170,255,.5)',\n}\n\nexport class Rotary {\n  constructor(opts) {\n    this._canvas = document.createElement('CANVAS')\n    this._canvas.tabIndex = 0\n    this._canvas.style.outline = 0\n    this._canvas.style.userSelect = \"none\"\n    this._ctx = this._canvas.getContext(\"2d\")\n    this._target = null\n    this._mouseX = 0.\n    this._mouseY = 0.\n    this._mouseAngle = 0.\n    this._bound = {\n      startDrag: this.startDrag.bind(this),\n      stopDrag: this.stopDrag.bind(this),\n      drag: this.drag.bind(this),\n      focus: this.focus.bind(this),\n      blur: this.blur.bind(this)\n    }\n\n    Object.assign(this, ROTARY_DEFAULTS, opts)\n\n    if (this.target === null) this.target = this.value // if no target use value\n\n    this._canvas.addEventListener(\"mousedown\", this._bound.startDrag)\n    this._canvas.addEventListener(\"focus\", this._bound.focus, true)\n    this._canvas.addEventListener(\"blur\", this._bound.blur, true)\n  }\n\n  startDrag(e) {\n    if (this._disabled) return\n    this._dragging = true\n    this._canvas.removeEventListener(\"mousedown\", this._bound.startDrag)\n    this._canvas.removeEventListener(\"touchstart\", this._bound.startDrag)\n    document.addEventListener(\"mousemove\", this._bound.drag)\n    document.addEventListener(\"touchmove\", this._bound.drag)\n    document.addEventListener(\"mouseup\", this._bound.stopDrag)\n    document.addEventListener(\"mouseleave\", this._bound.stopDrag)\n    document.addEventListener(\"dragleave\", this._bound.stopDrag)\n    document.addEventListener(\"touchcancel\", this._bound.stopDrag)\n    document.addEventListener(\"touchend\", this._bound.stopDrag)\n    this._evalMousePosition(e)\n  }\n\n  drag(e) {\n    if (this._disabled) return\n    this._evalMousePosition(e)\n  }\n\n  stopDrag(e) {\n    if (this._disabled) return\n    this._dragging = false\n    document.removeEventListener(\"mousemove\", this._bound.drag)\n    document.removeEventListener(\"touchmove\", this._bound.drag)\n    document.removeEventListener(\"mouseup\", this._bound.stopDrag)\n    document.removeEventListener(\"mouseleave\", this._bound.stopDrag)\n    document.removeEventListener(\"dragleave\", this._bound.stopDrag)\n    document.removeEventListener(\"touchcancel\", this._bound.stopDrag)\n    document.removeEventListener(\"touchend\", this._bound.stopDrag)\n    this._canvas.addEventListener(\"mousedown\", this._bound.startDrag)\n    this._canvas.addEventListener(\"touchstart\", this._bound.startDrag)\n    this._evalMousePosition(e)\n  }\n\n  focus(e) {\n    if (this._disabled) return\n    this._focus = true\n    this.redraw()\n  }\n\n  blur(e) {\n    if (this._disabled) return\n    this._focus = false\n    this.redraw()\n  }\n\n  on(...args) {\n    this._canvas.addEventListener.apply(this._canvas, args)\n  }\n\n  addEventListener(...args) {\n    this._canvas.addEventListener.apply(this._canvas, args)\n  }\n\n  off(...args) {\n    this._canvas.removeEventListener.apply(this._canvas, args)\n  }\n\n  removeEventListener(...args) {\n    this._canvas.removeEventListener.apply(this._canvas, args)\n  }\n\n  set eventMode(val) {\n    this._eventMode = val\n  }\n  get eventMode() {\n    return this._eventMode\n  }\n\n  set selector(val) {\n    this._selector = val\n    this.parent = document.querySelector(this._selector)\n  }\n  get selector() {\n    return this._selector\n  }\n\n  set parent(val) {\n    this._parent = val\n    this._attachDomElement()\n  }\n  get parent() {\n    return this._parent\n  }\n\n  set value(val) {\n    if (this._value == val) return\n    this._value = clamp(val)\n    this.redraw()\n  }\n  get value() {\n    return this._value\n  }\n\n  set trackSector(val) {\n    if (this._trackSector == val) return\n    this._trackSector = val\n    this.redraw()\n  }\n  get trackSector() {\n    return this._trackSector\n  }\n\n  set target(val) {\n    if (this._target == val) return\n    this._target = clamp(val)\n    this.redraw()\n  }\n  get target() {\n    return this._target\n  }\n\n  set steps(val) {\n    if (this._steps == val) return\n    this._steps = Math.max(1,val)\n    this.redraw()\n  }\n  get steps() {\n    return this._steps\n  }\n\n  get step() {\n    return Math.floor(this._value * this._steps)\n  }\n\n  set step(val) {\n    this.value = val / this._steps\n  }\n\n  set neutralAngle(val) {\n    if (this._neutralAngle == val) return\n    this._neutralAngle = val\n    this.redraw()\n  }\n  get neutralAngle() {\n    return this._neutralAngle\n  }\n\n  set sizeFromParent(val) {\n    if (this._sizeFromParent == val) return\n    this._sizeFromParent = val\n    if (this._sizeFromParent) this.fitParent()\n  }\n  get sizeFromParent() {\n    return this._sizeFromParent\n  }\n\n  set width(val) {\n    if (this._width == val) return\n    this._width = val\n    this._resizeCanvas()\n  }\n  get width() {\n    return this._width\n  }\n\n  set height(val) {\n    if (this._height == val) return\n    this._height = val\n    this._resizeCanvas()\n  }\n  get height() {\n    return this._height\n  }\n\n  set speed(val) {\n    if (this._speed == val) return\n    this._speed = val\n  }\n  get speed() {\n    return this._speed\n  }\n\n  set targetSector(val) {\n    if (this._targetSector == val) return\n    this._targetSector = val\n    this.redraw()\n  }\n  get targetSector() {\n    return this._targetSector\n  }\n\n  set valueSector(val) {\n    if (this._valueSector == val) return\n    this._valueSector = val\n    this.redraw()\n  }\n  get valueSector() {\n    return this._valueSector\n  }\n\n  set stepGap(val) {\n    if (this._stepGap == val) return\n    this._stepGap = val\n    this.redraw()\n  }\n  get stepGap() {\n    return this._stepGap\n  }\n\n  set disabled(val) {\n    if (this._disabled == val) return\n    this._disabled = val\n    if (this._disabled && this._dragging) this.stopDrag()\n    if (this._disabled && this._focus) this.blur()\n    this.redraw()\n  }\n  get disabled() {\n    return this._disabled\n  }\n\n  set observeSize(val) {\n    if (this._observeSize == val) return\n    this._observeSize = val\n    if (this._observeSize) this._loop()\n  }\n  get observeSize() {\n    return observeSize\n  }\n\n  set borderRadius(val) {\n    if (this._borderRadius == val) return\n    this._borderRadius = val\n    this.redraw()\n  }\n  get borderRadius() {\n    return this._borderRadius\n  }\n\n  set trackSize(val) {\n    if (this._trackSize == val) return\n    this._trackSize = val\n    this.redraw()\n  }\n  get trackSize() {\n    return this._trackSize\n  }\n\n  set valueSectorColor(val) {\n    if (this._valueSectorColor == val) return\n    this._valueSectorColor = val\n    this.redraw()\n  }\n  get valueSectorColor() {\n    return this._valueSectorColor\n  }\n\n  set trackSectorColor(val) {\n    if (this._trackSectorColor == val) return\n    this._trackSectorColor = val\n    this.redraw()\n  }\n  get trackSectorColor() {\n    return this._trackSectorColor\n  }\n\n  set borderColor(val) {\n    if (this._borderColor == val) return\n    this._borderColor = val\n    this.redraw()\n  }\n  get borderColor() {\n    return this._borderColor\n  }\n\n  set borderFocusColor(val) {\n    if (this._borderFocusColor == val) return\n    this._borderFocusColor = val\n    this.redraw()\n  }\n  get borderFocusColor() {\n    return this._borderFocusColor\n  }\n\n  set backgroundColor(val) {\n    if (this._backgroundColor == val) return\n    this._backgroundColor = val\n    this.redraw()\n  }\n  get backgroundColor() {\n    return this._backgroundColor\n  }\n\n  set targetSectorColor(val) {\n    if (this._targetSectorColor == val) return\n    this._targetSectorColor = val\n    this.redraw()\n  }\n  get targetSectorColor() {\n    return this._targetSectorColor\n  }\n\n  get domElement() {\n    return this._canvas\n  }\n\n  fitParent() {\n    if (!this._parent) return\n    this._width = this._parent.offsetWidth\n    this._height =  this._parent.offsetHeight\n    this._resizeCanvas()\n  }\n\n  redraw() {\n    this._redraw = true\n    this._loop()\n  }\n\n  _resizeCanvas() {\n    this._canvasSize = Math.min(this._width, this._height)\n    this._radius =  this._canvasSize / 2.\n    this._centerX = this._centerY = this._radius\n    this.redraw()\n  }\n\n  _attachDomElement() {\n    if (this.parent && this._canvas) {\n      this._parent.appendChild(this._canvas)\n      this.fitParent()\n      this.redraw()\n    }\n  }\n\n  _evalMousePosition(e){\n    this._mouseX = e.touches ? e.touches[0].pageX : e.pageX\n    this._mouseY = e.touches ? e.touches[0].pageY : e.pageY\n    this._mouseAngle = calcAngle(\n      this._canvas.offsetLeft + this._canvasSize / 2,\n      this._canvas.offsetTop + this._canvasSize / 2,\n      this._mouseX,\n      this._mouseY\n    )\n    const zero = (this._neutralAngle - Math.PI)\n    const inverse = (TAU - (this._trackSector - this._valueSector)) / TAU\n    const fullCircle = mod(this._mouseAngle - zero, TAU) / TAU\n    const value = fullCircle\n      * (TAU / (this._trackSector - this._valueSector))\n      - (inverse + this._valueSector / 2) / 2\n\n    this._target = clamp(value)\n    this.redraw()\n  }\n\n  _dispatchChangeEvent() {\n    if (\n      this._eventMode === NONE\n      || (this._eventMode === VALUE && this._lastEventValue == this._value)\n      || (this._eventMode === TARGET && this._lastEventTarget == this._target)\n      || (this._eventMode === STEP && this._lastEventStep == this.step)\n      || (this._eventMode === COMPLETE && this._value != this._target)\n    ) return\n    this._canvas.dispatchEvent(\n      new CustomEvent(\n        'change',\n        {\n          bubbles: true,\n          detail: {\n            step: this.step,\n            value: this._value,\n            target: this._target,\n            component: this\n          }\n        }\n      )\n    )\n    this._lastEventValue = this._value\n    this._lastEventTarget = this._target\n    this._lastEventStep = this.step\n  }\n\n  _loop() {\n    if (\n      this._animationFrame\n      || (\n        !this._observeSize\n        && !this._dragging\n        && !this._redraw\n        && this._value == this._target\n      )\n    ) return\n    this._animationFrame = window.requestAnimationFrame(() => {\n      let render = this._dragging || this._redraw\n      if (this._value != this._target) {\n        if (this.speed <= 0) {\n          // speed lte 0 just set value\n          this._value = this._target\n        } else {\n          if (this._value + this._speed <= this._target ) {\n            this._value += this._speed\n          } else if (this._value- this._speed >= this._target ) {\n            this._value -= this._speed\n          } else {\n            this._value = this._target\n          }\n        }\n        render = true\n        this._dispatchChangeEvent()\n      }\n      if (\n        this._observeSize\n        && this._sizeFromParent\n        && (\n          this._parent.offsetWidth != this._width\n          || this._parent.offsetHeight != this._height\n        )\n      ) {\n        this.fitParent()\n        render = true\n      }\n      this._animationFrame = null\n      if (render) this._draw()\n      this._loop()\n    })\n  }\n\n  _draw() {\n    const ctx = this._ctx\n    const cx = this._centerX\n    const cy = this._centerY\n    const border = this._borderRadius\n    const trackSize = Math.min(this._radius/3, this._trackSize)\n    const zero = -this._trackSector/2 + this._neutralAngle\n    const limit = zero + this._trackSector\n    const delta = calcAngleDelta( zero,limit)\n    const target = this._target\n    const value = this._value\n\n    const outer = this._radius - border\n    const inner = this._radius - border - trackSize\n\n    if (\n      ctx.canvas.width != this._canvasSize\n      || ctx.canvas.height != this._canvasSize\n    ) {\n      ctx.canvas.width = ctx.canvas.height = this._canvasSize\n    } else {\n      ctx.clearRect(0, 0, this._canvasSize, this._canvasSize)\n    }\n\n\n\n    // background torus\n    ctx.save()\n    ctx.beginPath()\n    ctx.fillStyle = this._focus ? this._borderFocusColor : this._borderColor\n    ctx.arc(cx, cy, this._radius, 0, TAU)\n    ctx.arc(cx, cy, inner - border, 0, TAU, true)\n    ctx.clip()\n    ctx.fill()\n    ctx.restore()\n\n    // torus\n    ctx.fillStyle = this._backgroundColor\n    drawTorusSegment(ctx, cx, cy, outer, inner)\n    ctx.fill()\n\n    let start, end\n    if (this._steps < 2) {\n\n      // track\n      ctx.fillStyle = this._trackSectorColor\n      drawTorusSegment(ctx, cx, cy, outer, inner, zero, limit)\n      ctx.fill()\n\n      // target value indicator\n      if (value != target) {\n        start = target *((TAU + delta - this._targetSector)) + zero\n        end = start + this._targetSector\n        ctx.fillStyle = this._targetSectorColor\n        drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n        ctx.fill()\n      }\n\n      // current value indicator\n      start = value * (TAU + delta - this._valueSector) + zero\n      end = start + this._valueSector\n      ctx.fillStyle = this._valueSectorColor\n      drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n      ctx.fill()\n\n    } else {\n\n      const segmentSector = this._trackSector / this._steps\n      const stepScale = 1 / this._steps\n\n      // draw segment for every step\n      for (let i = 0; i < this._steps; i++) {\n        start = mod(zero + segmentSector * i, TAU) + this._stepGap\n        end = mod(zero + segmentSector * (i + 1), TAU) - this._stepGap\n        // segmented track\n        ctx.fillStyle = this._trackSectorColor\n        drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n        ctx.fill()\n        if (value >= i * stepScale && value <= (i + 1) * stepScale) {\n          // segment matches current value\n          ctx.fillStyle = this._valueSectorColor\n          drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n          ctx.fill()\n        } else if (value != target) {\n          if (target >= i * stepScale && target <= (i + 1) * stepScale) {\n            // current value neq target value segement matches selected step\n            ctx.fillStyle = this._targetSectorColor\n            drawTorusSegment(ctx, cx, cy, outer, inner, start, end)\n            ctx.fill()\n          }\n        }\n      }\n    }\n    this._redraw = false\n  }\n}\n","import { Rotary } from './rotary'\n//console.log(components)\nexport { Rotary }\n"],"sourceRoot":""}